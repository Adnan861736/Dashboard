# ุฏููู ุงุณุชุฎุฏุงู Docker ููุดุฑูุน Zenobia

## ๐ ุงููุชุทูุจุงุช

- Docker Desktop ุฃู Docker Engine
- Docker Compose

## ๐ ุงูุชุดุบูู ุงูุณุฑูุน

### 1. ุจูุงุก ูุชุดุบูู ุงูุชุทุจูู

```bash
# ุจูุงุก ูุชุดุบูู ุฌููุน ุงูุฎุฏูุงุช
docker-compose up -d --build

# ุฃู ุจุงุณุชุฎุฏุงู ุงูุฃูุฑ ุงููุฎุชุตุฑ
docker compose up -d --build
```

### 2. ุฅููุงู ุงูุชุทุจูู

```bash
docker-compose down
```

### 3. ุฅููุงู ูุญุฐู ูู ุงูุจูุงูุงุช

```bash
docker-compose down -v
```

## ๐ ูููู ูููุงุช Docker

```
Zenobia/
โโโ Dockerfile              # ููู Docker ููุชุทุจูู
โโโ docker-compose.yml      # ุฅุนุฏุงุฏุงุช Docker Compose
โโโ .dockerignore          # ูููุงุช ูุชู ุชุฌุงูููุง ุนูุฏ ุงูุจูุงุก
โโโ DOCKER_README.md       # ูุฐุง ุงูููู
```

## ๐ง ุงูุฅุนุฏุงุฏุงุช

### ูุชุบูุฑุงุช ุงูุจูุฆุฉ

ูู ุจุฅูุดุงุก ููู `.env.local` ูู ุฌุฐุฑ ุงููุดุฑูุน:

```env
# API Settings
NEXT_PUBLIC_API_URL=http://192.168.1.100:4005

# App Settings
NODE_ENV=production
PORT=3000
```

### ุชุนุฏูู ุงูููุงูุฐ (Ports)

ูู ููู `docker-compose.yml`ุ ูู ุจุชุนุฏูู:

```yaml
ports:
  - "3000:3000"  # ุบููุฑ ุงููููุฐ ุงูุฃูู ูุชุบููุฑ ูููุฐ ุงููุตูู ุงูุฎุงุฑุฌู
```

## ๐ ุงูุฃูุงูุฑ ุงููููุฏุฉ

### ุนุฑุถ ุงูุณุฌูุงุช (Logs)

```bash
# ุนุฑุถ ุณุฌูุงุช ุฌููุน ุงูุฎุฏูุงุช
docker-compose logs -f

# ุนุฑุถ ุณุฌูุงุช ุฎุฏูุฉ ูุญุฏุฏุฉ
docker-compose logs -f zenobia-app
```

### ุฅุนุงุฏุฉ ุจูุงุก ุงูุตูุฑุฉ

```bash
# ุฅุนุงุฏุฉ ุจูุงุก ุจุฏูู ุงุณุชุฎุฏุงู cache
docker-compose build --no-cache

# ุฅุนุงุฏุฉ ุจูุงุก ูุชุดุบูู
docker-compose up -d --build
```

### ุงูุฏุฎูู ุฅูู ุงูุญุงููุฉ (Container)

```bash
# ุงูุฏุฎูู ุฅูู ุญุงููุฉ ุงูุชุทุจูู
docker exec -it zenobia-frontend sh

# ุงูุฏุฎูู ุฅูู ุญุงููุฉ Backend
docker exec -it zenobia-backend sh
```

### ูุญุต ุญุงูุฉ ุงูุฎุฏูุงุช

```bash
# ุนุฑุถ ุฌููุน ุงูุญุงููุงุช
docker-compose ps

# ุนุฑุถ ุงุณุชุฎุฏุงู ุงูููุงุฑุฏ
docker stats
```

## ๐ ุงููุตูู ููุชุทุจูู

ุจุนุฏ ุงูุชุดุบููุ ููููู ุงููุตูู ุฅูู:

- **ุงูุชุทุจูู ุงูุฃูุงูู**: http://localhost:3000
- **API Backend**: http://localhost:4005 (ุฅุฐุง ุชู ุชูุนููู)

## ๐ ุงูุฃูุงู

### ุชุดุบูู ุงูุชุทุจูู ุจุฏูู ุตูุงุญูุงุช root

ุงูุชุทุจูู ูุนูู ุชููุงุฆูุงู ุจูุณุชุฎุฏู `nextjs` (UID: 1001) ูุถูุงู ุงูุฃูุงู.

### ุงุณุชุฎุฏุงู Secrets

ุจุฏูุงู ูู ุงุณุชุฎุฏุงู `.env.local`ุ ููููู ุงุณุชุฎุฏุงู Docker secrets:

```yaml
secrets:
  api_url:
    file: ./secrets/api_url.txt
```

## ๐ฆ ุจูุงุก ุตูุฑุฉ ููุฅูุชุงุฌ

### ุจูุงุก ุงูุตูุฑุฉ

```bash
docker build -t zenobia-app:latest .
```

### ุฑูุน ุงูุตูุฑุฉ ุฅูู Docker Hub

```bash
# ุชุณุฌูู ุงูุฏุฎูู
docker login

# ูุณู ุงูุตูุฑุฉ
docker tag zenobia-app:latest yourusername/zenobia-app:latest

# ุฑูุน ุงูุตูุฑุฉ
docker push yourusername/zenobia-app:latest
```

## ๐ ุญู ุงููุดุงูู

### ุงููุดููุฉ: ุงูุตูุฑุฉ ูุจูุฑุฉ ุฌุฏุงู

**ุงูุญู**: ุงุณุชุฎุฏููุง multi-stage build ูุชูููู ุญุฌู ุงูุตูุฑุฉ ุงูููุงุฆูุฉ.

### ุงููุดููุฉ: ุงูุชุทุจูู ูุง ูุชุตู ุจู Backend

**ุงูุญู**: ุชุฃูุฏ ูู:
1. Backend ูุนูู ุนูู `http://192.168.1.100:4005`
2. ุชุญุฏูุซ `NEXT_PUBLIC_API_URL` ูู `.env.local`
3. ููุง ุงูุฎุฏูุชูู ุนูู ููุณ ุงูุดุจูุฉ

### ุงููุดููุฉ: ุฎุทุฃ ูู ุจูุงุก ุงูุตูุฑุฉ

**ุงูุญู**:
```bash
# ุญุฐู ูู ุงูุตูุฑ ูุงูุญุงููุงุช ุงููุฏููุฉ
docker system prune -a

# ุฅุนุงุฏุฉ ุงูุจูุงุก
docker-compose build --no-cache
```

### ุงููุดููุฉ: ุงูุชุทุจูู ูุง ูุนูู ุจุนุฏ ุงูุชุญุฏูุซุงุช

**ุงูุญู**:
```bash
# ุฅููุงู ุงูุฎุฏูุงุช
docker-compose down

# ุฅุนุงุฏุฉ ุจูุงุก ูุชุดุบูู
docker-compose up -d --build
```

## ๐ ููุงุญุธุงุช ุฅุถุงููุฉ

### ุงุณุชุฎุฏุงู ูุน CI/CD

ููููู ุงุณุชุฎุฏุงู ูุฐู ุงููููุงุช ูุน:
- GitHub Actions
- GitLab CI
- Jenkins
- CircleCI

### Production Best Practices

1. **ุงุณุชุฎุฏู ูุชุบูุฑุงุช ุงูุจูุฆุฉ**: ูุง ุชุถุน ุฃุณุฑุงุฑ ูู ุงูููุฏ
2. **Health Checks**: ุชู ุฅุถุงูุชูุง ุจุงููุนู ูู docker-compose
3. **Logging**: ุงุณุชุฎุฏู logging driver ููุงุณุจ
4. **Monitoring**: ุฃุถู Prometheus/Grafana ูููุฑุงูุจุฉ
5. **Backups**: ุงุญุชูุธ ุจูุณุฎ ุงุญุชูุงุทูุฉ ูู ุงูุจูุงูุงุช

### ุชุญุณูู ุงูุฃุฏุงุก

```yaml
# ูู docker-compose.yml
deploy:
  resources:
    limits:
      cpus: '2'
      memory: 2G
    reservations:
      memory: 512M
```

## ๐ ุงูุฏุนู

ุฅุฐุง ูุงุฌูุช ุฃู ูุดููุฉ:

1. ุชุญูู ูู ุงูุณุฌูุงุช: `docker-compose logs -f`
2. ุชุฃูุฏ ูู ุชุดุบูู Docker: `docker version`
3. ุชุฃูุฏ ูู ุงูููุงูุฐ ูุชุงุญุฉ: `netstat -an | grep 3000`

## ๐ ุงูุชุญุฏูุซุงุช

ููุญุตูู ุนูู ุขุฎุฑ ุงูุชุญุฏูุซุงุช:

```bash
# ุณุญุจ ุขุฎุฑ ุงูุชุบููุฑุงุช
git pull

# ุฅุนุงุฏุฉ ุจูุงุก ุงูุตูุฑุฉ
docker-compose up -d --build
```

---

**ุชู ุฅูุดุงุคู ุจูุงุณุทุฉ**: Claude Code
**ุงูุชุงุฑูุฎ**: 2025-12-20
